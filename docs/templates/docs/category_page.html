{% extends 'base/base.html' %}
{% load static %}
{% block content %}

    <section
            class="w-full overflow-hidden flex flex-col flex-nowrap max-md:px-9 max-sm:px-4 box-border pt-10 max-md:pt-[13px]  h-auto pb-20"
    >
        <div class="container mx-auto">
            <div class="w-full flex items-center justify-between gap-3 max-sm:flex-col max-sm:items-start">
                <!-- breadcrumbs -->
                <div class="flex gap-1 items-center w-full max-sm:flex-wrap">
                    <div class="flex gap-0.5 items-center shrink-0 box-border py-0.5">
                        <a href="/" class="text-sm max-sm:text-xs">INOUT Проект</a>
                        <img src="{% static 'icons/arrow_right_light.svg' %}" alt="arrow" class="hidden dark:block"/>
                        <img src="{% static 'icons/arrow_right_dark.svg' %}" alt="arrow" class="dark:hidden"/>
                    </div>
                    <div class="flex gap-0.5 items-center box-border py-0.5">
                        <a href="{{ page.get_parent.get_parent.url }}" class="text-sm max-sm:text-xs">Ресурсы</a>
                        <img src="{% static 'icons/arrow_right_light.svg' %}" alt="arrow" class="hidden dark:block"/>
                        <img src="{% static 'icons/arrow_right_dark.svg' %}" alt="arrow" class="dark:hidden"/>
                    </div>
                    <div class="flex gap-0.5 items-center box-border py-0.5">
                        <a href="{{ page.get_parent.url }}" class="text-sm max-sm:text-xs">Документация</a>
                        <img src="{% static 'icons/arrow_right_light.svg' %}" alt="arrow" class="hidden dark:block"/>
                        <img src="{% static 'icons/arrow_right_dark.svg' %}" alt="arrow" class="dark:hidden"/>
                    </div>
                    <div>
                        <p class="text-sm max-sm:text-xs dark:text-dark-text-tertiary text-text-tertiary">
                            {{ page.title }}</p>
                    </div>
                </div>
                <!-- breadcrumbs -->

                <div
                        class="theme-switcher min-w-[104px] w-[104px] flex h-9 rounded-[112px] dark:bg-dark-card-and-Sec-BT bg-card-and-Sec-BT p-1 border border-[transparent] dark:hover:border-[rgba(255,255,255,0.08)] hover:border-[rgba(0,0,0,0.08)] transition"
                >
                    <div
                            class="dark-theme theme-control rounded-[56px] dark:bg-dark-card-and-Sec-BT bg-[transparent] flex items-center justify-center w-1/2 hover:cursor-pointer dark:hover:cursor-default"
                    >
                        <img src="{% static 'icons/moon_dark.svg' %}" alt="moon"
                             class="w-4 h-4 hidden dark:block transition"/>
                        <img src="{% static 'icons/moon_light.svg' %}" alt="moon"
                             class="dark w-4 h-4 dark:hidden transition"/>
                    </div>
                    <div
                            class="light-theme theme-control rounded-[56px] bg-[rgba(0,0,0,0.10)] dark:bg-[transparent] flex items-center justify-center w-1/2 dark:hover:cursor-pointer hover:cursor-default"
                    >
                        <img src="{% static 'icons/sun_dark.svg' %}" alt="sun"
                             class="light w-4 h-4 hidden dark:block transition"/>
                        <img src="{% static 'icons/sun_light.svg' %}" alt="sun" class="w-4 h-4 dark:hidden transition"/>
                    </div>
                </div>
            </div>

            <div class="w-full flex gap-[152px] mt-20 max-md:mt-10 max-sm:mt-10 max-md:flex-col max-md:gap-[50px]">
                <div class="w-[288px] shrink-0 max-md:w-full">
                    <ul
                            class="menu w-full text-base leading-[20px] max-sm:text-sm text-text-secondary dark:text-dark-text-secondary"
                    >
                        {% for i in page.get_parent.get_children %}
                            <li class="w-full box-border" data-clicked="false">
                                <div
                                        class="menu-item py-2 box-border w-full flex justify-between items-center focus:border-none focus:outline-none transition hover:cursor-pointer hover:text-text-primary dark:hover:text-dark-text-primary"
                                >
                                    <p class="transition">{{ i.title }}</p>
                                    <img src="{% static 'icons/chevron_down.svg' %}" alt="arrow"
                                         class="dark transition hidden dark:block"/>
                                    <img src="{% static 'icons/chevron_down_hover.svg' %}" alt="arrow"
                                         class="dark-active transition hidden dark:hidden"/>
                                    <img src="{% static 'icons/chevron_down_primary.svg' %}" alt="arrow"
                                         class="primary dark:hidden transition"/>
                                    <img
                                            src="{% static 'icons/chevron_down primary_hover.svg' %}"
                                            alt="arrow"
                                            class="primary-active dark:hidden hidden transition"
                                    />
                                </div>
                                <!-- dropdown -->
                                <ul
                                        class="menu-list hidden text-sm leading-[20px] max-sm:text-xs dark:text-dark-text-secondary text-text-secondary pb-4 transition"
                                >
                                    {% for j in i.get_children %}
                                        <li
                                                class="py-2 px-4 box-border w-fit dark:hover:text-dark-text-primary hover:text-text-primary transition"
                                        >
                                            <a href="{{ j.url }}">{{ j.title }}</a>
                                        </li>

                                    {% endfor %}
                                    <li
                                            class="py-2 px-4 box-border w-fit dark:hover:text-dark-text-primary hover:text-text-primary transition"
                                    >
                                        <a href="{{ i.url }}"
                                           class="inline-block flex gap-2 items-center dark:text-dark-text-link text-text-link"
                                        >Смотреть всё <img src="{% static 'icons/link_arrow.svg' %}" alt="arrow"
                                        /></a>
                                    </li>
                                </ul>
                                <!-- dropdown -->
                            </li>
                        {% endfor %}

                    </ul>
                </div>
                <!-- content -->
                <div class="w-full flex flex-col gap-2">
                    <div
                            class="pb-10 box-border flex justify-between items-center gap-4 pb-10 max-md:pb-0 max-sm:flex-col max-md:items-start"
                    >
                        <h2 class="heading font-semibold text-[40px] leading-[44px] max-md:leading-[40px]">{{ page.title }}</h2>
                        <!-- search -->
                        <div
                                class="search-wrapper shrink-0 flex gap-2 items-center px-4 py-[15px] w-[311px] max-sm:w-full box-border rounded-xl border dark:border-[rgba(255,255,255,0.08)] border-[rgba(0,0,0,0.08)] bg-card-and-Sec-BT dark:bg-dark-card-and-Sec-BT hover:cursor-pointer"
                        >
                            <img src="{% static 'icons/search_inactive.svg' %}" alt="search"
                                 class="search-img-dark dark:block hidden"/>
                            <img src="{% static 'icons/search.svg' %}" alt="search"
                                 class="search-img-dark-active dark:hidden hidden"/>
                            <img src="{% static 'icons/search_dark.svg' %}" alt="search"
                                 class="search-img-primary-active hidden dark:hidden"/>
                            <img src="{% static 'icons/search_dark_inactive.svg' %}" alt="search"
                                 class="search-img-primary dark:hidden"/>
                            <form action="{% url 'search' %}" method="get"  class="w-full">
                                <input
                                        name="query"
                                        type="text"
                                        class="search w-full bg-[transparent] focus:border-none focus:outline-none dark:placeholder:text-dark-text-secondary placeholder:text-text-secondary"
                                        placeholder="Поиск по документации"
                                />
                            </form>
                        </div>
                        <!-- search -->
                    </div>
                    <div class="py-10 box-border text-base leading-[22px] max-sm:text-sm dark:text-dark-text-link text-text-link">
                        <ul
                                class="articles-list grid grid-cols-2 grid-rows-auto gap-x-[70px] max-md:flex max-md:flex-col max-md:gap-x-0 gap-y-4 w-full max-md:[&_li:nth-last-child(-n+2)>div]:block max-md:[&_li:nth-last-child(1)>div]:block"
                        >
                            {% for item in page.get_children %}
                                <li class="flex flex-col justify-between gap-4 w-full">
                                    <a href="{{ item.url }}">{{ item.title }}</a>
                                    <div
                                            class="w-full h-[1px] bg-[linear-gradient(48deg,_rgba(44,51,62,0)_0%,_rgba(44,51,62,1)_15%,_rgba(44,51,62,1)_85%,_rgba(44,51,62,0)_100%)] dark:bg-[linear-gradient(48deg,_rgba(255,255,255,0)_0%,_rgba(255,255,255,1)_15%,_rgba(255,255,255,1)_85%,_rgba(255,255,255,0)_100%)] opacity-20"
                                    ></div>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <!-- content -->
                <!-- content -->
            </div>
        </div>
    </section>
{% endblock %}